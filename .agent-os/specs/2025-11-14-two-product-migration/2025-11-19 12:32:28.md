2025-11-19 12:32:28.403 [info] üîç [Webhook Validation] Signature check: {
  rawHeader: 'd9f3ad9fa24476b8fad4c3331404040e03b8adc6f07905cfed74e141c0d1e6b5',
  extractedSignature: 'd9f3ad9fa2...',
  hasSignature: true
}
2025-11-19 12:32:28.403 [info] üì¶ [Webhook Validation] Body received: {
  bodyLength: 3520,
  bodyPreview: '{"meta":{"test_mode":true,"event_name":"subscription_created","custom_data":{"tier":"annual","user_e'
}
2025-11-19 12:32:28.403 [info] üîê [Webhook Validation] Signature verification: {
  isValid: true,
  signatureLength: 64,
  secretConfigured: true,
  secretLength: 15
}
2025-11-19 12:32:28.403 [info] üìã [Webhook Validation] Parsed payload: {
  eventName: 'subscription_created',
  subscriptionId: '1652194',
  testMode: true
}
2025-11-19 12:32:28.403 [info] ‚úÖ [Webhook Validation] Success: { eventName: 'subscription_created', subscriptionId: '1652194' }
2025-11-19 12:32:28.403 [info] üîî [Webhook] Received: subscription_created {
  eventId: undefined,
  subscriptionId: '1652194',
  quantity: undefined,
  status: 'active',
  timestamp: '2025-11-19T12:32:28.397Z',
  correlationId: undefined
}
2025-11-19 12:32:28.403 [info] üí∞ [Payment Flow] Event: subscription_created {
  subscriptionId: '1652194',
  quantity: undefined,
  status: 'active',
  correlationId: undefined,
  note: 'Payment-related event being processed'
}
2025-11-19 12:32:28.403 [info] üîç [Validation] Payload structure check: {
  hasEventName: true,
  hasDataId: true,
  hasAttributes: true,
  hasStatus: true,
  eventName: 'subscription_created',
  dataId: '1652194',
  status: 'active'
}
2025-11-19 12:32:28.495 [info] üîÑ [Webhook] Migration detected from subscription 1652134
2025-11-19 12:32:28.495 [info] Reusing existing customer instead of creating new one
2025-11-19 12:32:28.649 [info] ‚úÖ [Webhook] Reusing existing customer 1ec4a188-14e2-42f7-9789-9ba40bf947cf for organization c919b954-b2c2-45eb-80f5-fc65aea73cea
2025-11-19 12:32:28.701 [info] ‚úÖ [Webhook] Validated organization: test_lemoniady (70ccbf98-90ed-44a5-b89a-9b1133c6401d)
2025-11-19 12:32:28.701 [info] üé´ [Webhook] Detected YEARLY subscription (quantity_based): {
  subscriptionId: '1652194',
  variantId: 1090954,
  organizationId: '70ccbf98-90ed-44a5-b89a-9b1133c6401d',
  note: 'Will use quantity updates - charged immediately with proration'
}
2025-11-19 12:32:28.701 [info] üìä [Webhook] subscription_created - Before: {
  subscriptionId: '1652194',
  subscriptionItemId: 5383668,
  organizationId: '70ccbf98-90ed-44a5-b89a-9b1133c6401d',
  customerId: '1ec4a188-14e2-42f7-9789-9ba40bf947cf',
  status: 'active',
  rawQuantity: 7,
  variant_id: 1090954,
  billingType: 'quantity_based',
  correlationId: undefined,
  usageBasedBilling: false,
  note: 'Billing type: quantity_based'
}
2025-11-19 12:32:28.701 [info] üí≥ [Webhook] Billing period determination: {
  tier_from_custom_data: 'annual',
  calculated_billing_period: 'yearly',
  variant_id: 1090954,
  fallback_used: false
}
2025-11-19 12:32:28.701 [info] üìä [Webhook] Quantity determination: {
  billingType: 'quantity_based',
  rawQuantity_from_lemonsqueezy: 7,
  userCount_from_custom_data: 0,
  final_quantity: 7,
  note: 'Using rawQuantity from LemonSqueezy (quantity-based billing)'
}
2025-11-19 12:32:28.855 [info] ‚úÖ Updated organization 70ccbf98-90ed-44a5-b89a-9b1133c6401d: total_users=0, paid_seats=0, subscription_tier=free
2025-11-19 12:32:28.855 [info] ‚úÖ [Webhook] subscription_created - After: {
  subscriptionId: '1652194',
  subscriptionItemId: 5383668,
  organizationId: '70ccbf98-90ed-44a5-b89a-9b1133c6401d',
  customerId: '1ec4a188-14e2-42f7-9789-9ba40bf947cf',
  status: 'active',
  quantity: 7,
  current_seats: 0,
  variant_id: 1090954,
  userCount: 0,
  paid_seats: 0,
  freeTier: true,
  subscription_tier: 'free',
  renewsAt: '2026-11-19T12:32:20.000000Z',
  endsAt: null,
  trialEndsAt: null,
  correlationId: undefined,
  usageBasedBilling: false,
  note: 'Subscription created with usage-based billing enabled'
}
2025-11-19 12:32:28.855 [info] ‚è≠Ô∏è  [Webhook] Skipping usage record for yearly (quantity_based) subscription: {
  subscriptionId: '1652194',
  variantId: 1090954,
  organizationId: '70ccbf98-90ed-44a5-b89a-9b1133c6401d',
  userCount: 0,
  note: 'Yearly subscriptions use quantity updates, not usage records'
}
2025-11-19 12:32:28.855 [info] üîÑ [Webhook] Migration cleanup: Canceling old subscription 1652134
2025-11-19 12:32:30.041 [info] ‚úÖ [Webhook] Successfully canceled old subscription 1652134
2025-11-19 12:32:30.090 [error] ‚ö†Ô∏è [Webhook] Failed to update old subscription status: {
  code: '23514',
  details: 'Failing row contains (66416e62-0801-4660-8327-34010489d63f, 70ccbf98-90ed-44a5-b89a-9b1133c6401d, 1ec4a188-14e2-42f7-9789-9ba40bf947cf, 1652134, null, migrated, 6, 2025-12-19 12:01:43+00, null, null, 2025-11-19 12:01:49.699723+00, 2025-11-19 12:32:30.070313+00, 972634, 7, 5383330, usage_based, 621389, 1652194, monthly).',
  hint: null,
  message: 'new row for relation "subscriptions" violates check constraint "subscriptions_status_check"'
}
2025-11-19 12:32:30.130 [info] ‚ö° [Performance] Webhook processed: {
  eventType: 'subscription_created',
  eventId: undefined,
  processingTime: '1734ms',
  correlationId: undefined,
  timestamp: '2025-11-19T12:32:30.130Z'
}
2025-11-19 12:32:30.131 [info] ‚úÖ [Webhook] subscription_created processed successfully in 1734ms {
  eventId: undefined,
  correlationId: undefined,
  data: {
    subscription: '950b11ef-df10-49ac-90ca-6a42120edef5',
    organization: 'c919b954-b2c2-45eb-80f5-fc65aea73cea',
    quantity: 7,
    initialUsageRecordCreated: false
  }
}
2025-11-19 12:32:30.131 [info] üí≥ [Payment Flow] Completed: subscription_created {
  subscriptionId: '1652194',
  correlationId: undefined,
  processingTime: '1734ms',
  result: 'success'
}


2025-11-19 12:32:28.588 [info] üîç [Webhook Validation] Signature check: {
  rawHeader: '2a86d1be9b35f8443711a66bb93022e03d6f6ac8a9ad1a530fb5ef6e91480130',
  extractedSignature: '2a86d1be9b...',
  hasSignature: true
}
2025-11-19 12:32:28.589 [info] üì¶ [Webhook Validation] Body received: {
  bodyLength: 3520,
  bodyPreview: '{"meta":{"test_mode":true,"event_name":"subscription_updated","custom_data":{"tier":"annual","user_e'
}
2025-11-19 12:32:28.589 [info] üîê [Webhook Validation] Signature verification: {
  isValid: true,
  signatureLength: 64,
  secretConfigured: true,
  secretLength: 15
}
2025-11-19 12:32:28.589 [info] üìã [Webhook Validation] Parsed payload: {
  eventName: 'subscription_updated',
  subscriptionId: '1652194',
  testMode: true
}
2025-11-19 12:32:28.589 [info] ‚úÖ [Webhook Validation] Success: { eventName: 'subscription_updated', subscriptionId: '1652194' }
2025-11-19 12:32:28.589 [info] üîî [Webhook] Received: subscription_updated {
  eventId: undefined,
  subscriptionId: '1652194',
  quantity: undefined,
  status: 'active',
  timestamp: '2025-11-19T12:32:28.589Z',
  correlationId: undefined
}
2025-11-19 12:32:28.590 [info] üí∞ [Payment Flow] Event: subscription_updated {
  subscriptionId: '1652194',
  quantity: undefined,
  status: 'active',
  correlationId: undefined,
  note: 'Payment-related event being processed'
}
2025-11-19 12:32:28.590 [info] üîç [Validation] Payload structure check: {
  hasEventName: true,
  hasDataId: true,
  hasAttributes: true,
  hasStatus: true,
  eventName: 'subscription_updated',
  dataId: '1652194',
  status: 'active'
}
2025-11-19 12:32:28.828 [error] ‚ùå [Webhook] subscription_updated processing failed: {
  eventId: undefined,
  correlationId: undefined,
  error: 'Subscription not found for update',
  processingTime: '240ms'
}
2025-11-19 12:32:28.828 [error] ‚ö†Ô∏è [Payment Flow] Failed: subscription_updated {
  subscriptionId: '1652194',
  correlationId: undefined,
  error: 'Subscription not found for update',
  processingTime: '240ms',
  result: 'failed'
}

2025-11-19 12:32:57.064 [info] üîç Middleware org check: {
  userId: 'eb8feca9-1617-484c-8b80-4ae352a1e4f0',
  hasOrganization: true,
  pathname: '/api/billing/subscription'
}
2025-11-19 12:32:57.677 [error] ‚ùå No subscription record found: {
  code: 'PGRST116',
  details: 'The result contains 2 rows',
  hint: null,
  message: 'Cannot coerce the result to a single JSON object'
}

2025-11-19 12:34:39.243 [info] üîç Middleware org check: {
  userId: 'eb8feca9-1617-484c-8b80-4ae352a1e4f0',
  hasOrganization: true,
  pathname: '/api/billing/subscription'
}
2025-11-19 12:34:39.669 [error] ‚ùå No subscription record found: {
  code: 'PGRST116',
  details: 'The result contains 2 rows',
  hint: null,
  message: 'Cannot coerce the result to a single JSON object'
}


subscription_created
https://app.time8.io/api/webhooks/lemonsqueezy

Resend
Response:

200

{"message":"Webhook processed successfully","eventType":"subscription_created","processingTime":"1734ms","data":{"subscription":"950b11ef-df10-49ac-90ca-6a42120edef5","organization":"c919b954-b2c2-45eb-80f5-fc65aea73cea","quantity":7,"initialUsageRecordCreated":false}}
Request:

{
  "data": {
    "id": "1652194",
    "type": "subscriptions",
    "links": {
      "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652194"
    },
    "attributes": {
      "urls": {
        "customer_portal": "https://time8.lemonsqueezy.com/billing?expires=1763577147&test_mode=1&user=5064956&signature=2e13a1979bcb9af4e8ad6de274e76a798499621f62be85ab8c6595ec2020bf11",
        "update_payment_method": "https://time8.lemonsqueezy.com/subscription/1652194/payment-details?expires=1763577147&signature=ba16f43fd888391682c8eb9abed11a1c3128f7dfe40772d21bf25b1cb92906e5",
        "customer_portal_update_subscription": "https://time8.lemonsqueezy.com/billing/1652194/update?expires=1763577147&user=5064956&signature=409ef201eccea023de3d473de123db5c25fe83daf90960575f32ffba24b88cdb"
      },
      "pause": null,
      "status": "active",
      "ends_at": null,
      "order_id": 6859924,
      "store_id": 217313,
      "cancelled": false,
      "renews_at": "2026-11-19T12:32:20.000000Z",
      "test_mode": true,
      "user_name": "test_lemoniady",
      "card_brand": "visa",
      "created_at": "2025-11-19T12:32:22.000000Z",
      "product_id": 693341,
      "updated_at": "2025-11-19T12:32:27.000000Z",
      "user_email": "szymon.rajca@bb8.pl",
      "variant_id": 1090954,
      "customer_id": 7137295,
      "product_name": "Leave Management Per-Seat Yearly",
      "variant_name": "Yearly - Per User (Save 20%)",
      "order_item_id": 6800695,
      "trial_ends_at": null,
      "billing_anchor": 19,
      "card_last_four": "4242",
      "status_formatted": "Active",
      "payment_processor": "stripe",
      "first_subscription_item": {
        "id": 5383668,
        "price_id": 1806320,
        "quantity": 7,
        "created_at": "2025-11-19T12:32:27.000000Z",
        "updated_at": "2025-11-19T12:32:27.000000Z",
        "is_usage_based": false,
        "subscription_id": 1652194
      }
    },
    "relationships": {
      "order": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652194/relationships/order",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652194/order"
        }
      },
      "store": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652194/relationships/store",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652194/store"
        }
      },
      "product": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652194/relationships/product",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652194/product"
        }
      },
      "variant": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652194/relationships/variant",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652194/variant"
        }
      },
      "customer": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652194/relationships/customer",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652194/customer"
        }
      },
      "order-item": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652194/relationships/order-item",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652194/order-item"
        }
      },
      "subscription-items": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652194/relationships/subscription-items",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652194/subscription-items"
        }
      },
      "subscription-invoices": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652194/relationships/subscription-invoices",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652194/subscription-invoices"
        }
      }
    }
  },
  "meta": {
    "test_mode": true,
    "event_name": "subscription_created",
    "webhook_id": "60b88dc1-902e-4841-a633-96414e65e97a",
    "custom_data": {
      "tier": "annual",
      "user_email": "szymon.rajca@bb8.pl",
      "preserve_seats": "7",
      "organization_id": "70ccbf98-90ed-44a5-b89a-9b1133c6401d",
      "migration_from_subscription_id": "1652134"
    }
  }
}

subscription_updated
https://app.time8.io/api/webhooks/lemonsqueezy

Resend
Response:

200

{"message":"Webhook processed successfully","eventType":"subscription_updated","processingTime":"196ms","data":{"subscription":"950b11ef-df10-49ac-90ca-6a42120edef5","organization":"70ccbf98-90ed-44a5-b89a-9b1133c6401d","previousQuantity":7,"newQuantity":7}}
Request:

{
  "data": {
    "id": "1652194",
    "type": "subscriptions",
    "links": {
      "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652194"
    },
    "attributes": {
      "urls": {
        "customer_portal": "https://time8.lemonsqueezy.com/billing?expires=1763577148&test_mode=1&user=5064956&signature=61ae425a64a068bb4846dde6283f9e528f742fba484bee0d9cc8337457de1bd0",
        "update_payment_method": "https://time8.lemonsqueezy.com/subscription/1652194/payment-details?expires=1763577148&signature=31b74ae6b55ecc99a1f2722d6671031c182f17f25a05ba0e7a0b32878f2afb1e",
        "customer_portal_update_subscription": "https://time8.lemonsqueezy.com/billing/1652194/update?expires=1763577148&user=5064956&signature=16d4eedcaea0a997e0d3cf2686b2b2389b27f59c5a87b5f056df888ffb526028"
      },
      "pause": null,
      "status": "active",
      "ends_at": null,
      "order_id": 6859924,
      "store_id": 217313,
      "cancelled": false,
      "renews_at": "2026-11-19T12:32:20.000000Z",
      "test_mode": true,
      "user_name": "test_lemoniady",
      "card_brand": "visa",
      "created_at": "2025-11-19T12:32:22.000000Z",
      "product_id": 693341,
      "updated_at": "2025-11-19T12:32:27.000000Z",
      "user_email": "szymon.rajca@bb8.pl",
      "variant_id": 1090954,
      "customer_id": 7137295,
      "product_name": "Leave Management Per-Seat Yearly",
      "variant_name": "Yearly - Per User (Save 20%)",
      "order_item_id": 6800695,
      "trial_ends_at": null,
      "billing_anchor": 19,
      "card_last_four": "4242",
      "status_formatted": "Active",
      "payment_processor": "stripe",
      "first_subscription_item": {
        "id": 5383668,
        "price_id": 1806320,
        "quantity": 7,
        "created_at": "2025-11-19T12:32:27.000000Z",
        "updated_at": "2025-11-19T12:32:28.000000Z",
        "is_usage_based": false,
        "subscription_id": 1652194
      }
    },
    "relationships": {
      "order": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652194/relationships/order",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652194/order"
        }
      },
      "store": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652194/relationships/store",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652194/store"
        }
      },
      "product": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652194/relationships/product",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652194/product"
        }
      },
      "variant": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652194/relationships/variant",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652194/variant"
        }
      },
      "customer": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652194/relationships/customer",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652194/customer"
        }
      },
      "order-item": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652194/relationships/order-item",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652194/order-item"
        }
      },
      "subscription-items": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652194/relationships/subscription-items",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652194/subscription-items"
        }
      },
      "subscription-invoices": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652194/relationships/subscription-invoices",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652194/subscription-invoices"
        }
      }
    }
  },
  "meta": {
    "test_mode": true,
    "event_name": "subscription_updated",
    "webhook_id": "57f166b0-b2bc-4f63-b3d4-5bed99a96199",
    "custom_data": {
      "tier": "annual",
      "user_email": "szymon.rajca@bb8.pl",
      "preserve_seats": "7",
      "organization_id": "70ccbf98-90ed-44a5-b89a-9b1133c6401d",
      "migration_from_subscription_id": "1652134"
    }
  }
}

subscription_payment_success
https://app.time8.io/api/webhooks/lemonsqueezy

Resend
Response:

200

{"message":"Webhook processed successfully","eventType":"subscription_payment_success","processingTime":"2206ms","data":{"subscription":"950b11ef-df10-49ac-90ca-6a42120edef5","organization":"70ccbf98-90ed-44a5-b89a-9b1133c6401d","billingType":"quantity_based","note":"Payment confirmed - seats already set during subscription creation"}}
Request:

{
  "data": {
    "id": "5114228",
    "type": "subscription-invoices",
    "links": {
      "self": "https://api.lemonsqueezy.com/v1/subscription-invoices/5114228"
    },
    "attributes": {
      "tax": 0,
      "urls": {
        "invoice_url": "https://app.lemonsqueezy.com/my-orders/a2a94a42-00d9-4c9d-9b1f-6682d8acb3d7/subscription-invoice/5114228?expires=1763577148&signature=9101fabe74686410f91b5f2af3ee2ee016a70afd3a34fa5529257d2461f86a30"
      },
      "total": 67028,
      "status": "paid",
      "tax_usd": 0,
      "currency": "PLN",
      "refunded": false,
      "store_id": 217313,
      "subtotal": 67028,
      "test_mode": true,
      "total_usd": 18333,
      "user_name": "test_lemoniady",
      "card_brand": "visa",
      "created_at": "2025-11-19T12:32:23.000000Z",
      "updated_at": "2025-11-19T12:32:28.000000Z",
      "user_email": "szymon.rajca@bb8.pl",
      "customer_id": 7137295,
      "refunded_at": null,
      "subtotal_usd": 18333,
      "currency_rate": "0.27351093",
      "tax_formatted": "PLN0.00",
      "tax_inclusive": true,
      "billing_reason": "initial",
      "card_last_four": "4242",
      "discount_total": 0,
      "refunded_amount": 0,
      "subscription_id": 1652194,
      "total_formatted": "PLN670.28",
      "status_formatted": "Paid",
      "discount_total_usd": 0,
      "subtotal_formatted": "PLN670.28",
      "refunded_amount_usd": 0,
      "discount_total_formatted": "PLN0.00",
      "refunded_amount_formatted": "PLN0.00"
    },
    "relationships": {
      "store": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscription-invoices/5114228/relationships/store",
          "related": "https://api.lemonsqueezy.com/v1/subscription-invoices/5114228/store"
        }
      },
      "customer": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscription-invoices/5114228/relationships/customer",
          "related": "https://api.lemonsqueezy.com/v1/subscription-invoices/5114228/customer"
        }
      },
      "subscription": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscription-invoices/5114228/relationships/subscription",
          "related": "https://api.lemonsqueezy.com/v1/subscription-invoices/5114228/subscription"
        }
      }
    }
  },
  "meta": {
    "test_mode": true,
    "event_name": "subscription_payment_success",
    "webhook_id": "878a3bbf-5db5-48b7-a59f-760d6318987b",
    "custom_data": {
      "tier": "annual",
      "user_email": "szymon.rajca@bb8.pl",
      "preserve_seats": "7",
      "organization_id": "70ccbf98-90ed-44a5-b89a-9b1133c6401d",
      "migration_from_subscription_id": "1652134"
    }
  }
}

subscription_updated
https://app.time8.io/api/webhooks/lemonsqueezy

Resend
Response:

200

{"message":"Webhook processed successfully","eventType":"subscription_updated","processingTime":"198ms","data":{"subscription":"66416e62-0801-4660-8327-34010489d63f","organization":"70ccbf98-90ed-44a5-b89a-9b1133c6401d","previousQuantity":0,"newQuantity":0}}
Request:

{
  "data": {
    "id": "1652134",
    "type": "subscriptions",
    "links": {
      "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652134"
    },
    "attributes": {
      "urls": {
        "customer_portal": "https://time8.lemonsqueezy.com/billing?expires=1763577149&test_mode=1&user=5064956&signature=cc65937b84e81c29ec0832e84e627d44bdeaf90713cf46841853163fc49559b5",
        "update_payment_method": "https://time8.lemonsqueezy.com/subscription/1652134/payment-details?expires=1763577149&signature=a99c6b9cf62229c7e937d0d9a2d8e852428e8085081a6dc9bcce44e834fed2f7",
        "customer_portal_update_subscription": "https://time8.lemonsqueezy.com/billing/1652134/update?expires=1763577149&user=5064956&signature=9d79a5839742125af262a247148af2ef5f9552ab044e39271f0b1c7a599a4d99"
      },
      "pause": null,
      "status": "cancelled",
      "ends_at": "2025-12-19T12:01:43.000000Z",
      "order_id": 6859754,
      "store_id": 217313,
      "cancelled": true,
      "renews_at": "2025-12-19T12:01:43.000000Z",
      "test_mode": true,
      "user_name": "test_lemoniady",
      "card_brand": "visa",
      "created_at": "2025-11-19T12:01:45.000000Z",
      "product_id": 621389,
      "updated_at": "2025-11-19T12:32:29.000000Z",
      "user_email": "szymon.rajca@bb8.pl",
      "variant_id": 972634,
      "customer_id": 7137295,
      "product_name": "Leave Management Per-Seat",
      "variant_name": "Monthly - Per User",
      "order_item_id": 6800526,
      "trial_ends_at": null,
      "billing_anchor": 19,
      "card_last_four": "4242",
      "status_formatted": "Cancelled",
      "payment_processor": "stripe",
      "first_subscription_item": {
        "id": 5383330,
        "price_id": 1806273,
        "quantity": 0,
        "created_at": "2025-11-19T12:01:49.000000Z",
        "updated_at": "2025-11-19T12:02:19.000000Z",
        "is_usage_based": true,
        "subscription_id": 1652134
      }
    },
    "relationships": {
      "order": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/relationships/order",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/order"
        }
      },
      "store": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/relationships/store",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/store"
        }
      },
      "product": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/relationships/product",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/product"
        }
      },
      "variant": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/relationships/variant",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/variant"
        }
      },
      "customer": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/relationships/customer",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/customer"
        }
      },
      "order-item": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/relationships/order-item",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/order-item"
        }
      },
      "subscription-items": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/relationships/subscription-items",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/subscription-items"
        }
      },
      "subscription-invoices": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/relationships/subscription-invoices",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/subscription-invoices"
        }
      }
    }
  },
  "meta": {
    "test_mode": true,
    "event_name": "subscription_updated",
    "webhook_id": "9d623c95-e66e-4827-ae6d-642856e302ee",
    "custom_data": {
      "tier": "monthly",
      "user_count": "6",
      "user_email": "szymon.rajca@bb8.pl",
      "organization_id": "70ccbf98-90ed-44a5-b89a-9b1133c6401d",
      "organization_name": "test_lemoniady",
      "organization_slug": "test-lemoniady"
    }
  }
}

subscription_cancelled
https://app.time8.io/api/webhooks/lemonsqueezy

Resend
Response:

200

{"message":"Webhook processed successfully","eventType":"subscription_cancelled","processingTime":"209ms","data":{"subscription":"66416e62-0801-4660-8327-34010489d63f","organization":"70ccbf98-90ed-44a5-b89a-9b1133c6401d","status":"cancelled"}}
Request:

{
  "data": {
    "id": "1652134",
    "type": "subscriptions",
    "links": {
      "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652134"
    },
    "attributes": {
      "urls": {
        "customer_portal": "https://time8.lemonsqueezy.com/billing?expires=1763577149&test_mode=1&user=5064956&signature=cc65937b84e81c29ec0832e84e627d44bdeaf90713cf46841853163fc49559b5",
        "update_payment_method": "https://time8.lemonsqueezy.com/subscription/1652134/payment-details?expires=1763577149&signature=a99c6b9cf62229c7e937d0d9a2d8e852428e8085081a6dc9bcce44e834fed2f7",
        "customer_portal_update_subscription": "https://time8.lemonsqueezy.com/billing/1652134/update?expires=1763577149&user=5064956&signature=9d79a5839742125af262a247148af2ef5f9552ab044e39271f0b1c7a599a4d99"
      },
      "pause": null,
      "status": "cancelled",
      "ends_at": "2025-12-19T12:01:43.000000Z",
      "order_id": 6859754,
      "store_id": 217313,
      "cancelled": true,
      "renews_at": "2025-12-19T12:01:43.000000Z",
      "test_mode": true,
      "user_name": "test_lemoniady",
      "card_brand": "visa",
      "created_at": "2025-11-19T12:01:45.000000Z",
      "product_id": 621389,
      "updated_at": "2025-11-19T12:32:29.000000Z",
      "user_email": "szymon.rajca@bb8.pl",
      "variant_id": 972634,
      "customer_id": 7137295,
      "product_name": "Leave Management Per-Seat",
      "variant_name": "Monthly - Per User",
      "order_item_id": 6800526,
      "trial_ends_at": null,
      "billing_anchor": 19,
      "card_last_four": "4242",
      "status_formatted": "Cancelled",
      "payment_processor": "stripe",
      "first_subscription_item": {
        "id": 5383330,
        "price_id": 1806273,
        "quantity": 0,
        "created_at": "2025-11-19T12:01:49.000000Z",
        "updated_at": "2025-11-19T12:02:19.000000Z",
        "is_usage_based": true,
        "subscription_id": 1652134
      }
    },
    "relationships": {
      "order": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/relationships/order",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/order"
        }
      },
      "store": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/relationships/store",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/store"
        }
      },
      "product": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/relationships/product",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/product"
        }
      },
      "variant": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/relationships/variant",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/variant"
        }
      },
      "customer": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/relationships/customer",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/customer"
        }
      },
      "order-item": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/relationships/order-item",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/order-item"
        }
      },
      "subscription-items": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/relationships/subscription-items",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/subscription-items"
        }
      },
      "subscription-invoices": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/relationships/subscription-invoices",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/subscription-invoices"
        }
      }
    }
  },
  "meta": {
    "test_mode": true,
    "event_name": "subscription_cancelled",
    "webhook_id": "0e8b730e-15ee-451e-b562-757771e51fad",
    "custom_data": {
      "tier": "monthly",
      "user_count": "6",
      "user_email": "szymon.rajca@bb8.pl",
      "organization_id": "70ccbf98-90ed-44a5-b89a-9b1133c6401d",
      "organization_name": "test_lemoniady",
      "organization_slug": "test-lemoniady"
    }
  }
}

subscription_updated
https://app.time8.io/api/webhooks/lemonsqueezy

Resend
Response:

200

{"message":"Webhook processed successfully","eventType":"subscription_updated","processingTime":"193ms","data":{"subscription":"66416e62-0801-4660-8327-34010489d63f","organization":"70ccbf98-90ed-44a5-b89a-9b1133c6401d","previousQuantity":0,"newQuantity":0}}
Request:

{
  "data": {
    "id": "1652134",
    "type": "subscriptions",
    "links": {
      "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652134"
    },
    "attributes": {
      "urls": {
        "customer_portal": "https://time8.lemonsqueezy.com/billing?expires=1763577150&test_mode=1&user=5064956&signature=0afca6809c32b4b822c42294f15f223850e49171daf6679c5a620c7c929e1016",
        "update_payment_method": "https://time8.lemonsqueezy.com/subscription/1652134/payment-details?expires=1763577150&signature=1e3366395910f0f01d35a77523becac944ac761122c9cc1b140c605ad1c54df9",
        "customer_portal_update_subscription": "https://time8.lemonsqueezy.com/billing/1652134/update?expires=1763577150&user=5064956&signature=2c837e95d249801e988777b75d1d683d1133928ef43a3a7ef71689ff826cef14"
      },
      "pause": null,
      "status": "cancelled",
      "ends_at": "2025-12-19T12:01:43.000000Z",
      "order_id": 6859754,
      "store_id": 217313,
      "cancelled": true,
      "renews_at": "2025-12-19T12:01:43.000000Z",
      "test_mode": true,
      "user_name": "test_lemoniady",
      "card_brand": "visa",
      "created_at": "2025-11-19T12:01:45.000000Z",
      "product_id": 621389,
      "updated_at": "2025-11-19T12:32:29.000000Z",
      "user_email": "szymon.rajca@bb8.pl",
      "variant_id": 972634,
      "customer_id": 7137295,
      "product_name": "Leave Management Per-Seat",
      "variant_name": "Monthly - Per User",
      "order_item_id": 6800526,
      "trial_ends_at": null,
      "billing_anchor": 19,
      "card_last_four": "4242",
      "status_formatted": "Cancelled",
      "payment_processor": "stripe",
      "first_subscription_item": {
        "id": 5383330,
        "price_id": 1806273,
        "quantity": 0,
        "created_at": "2025-11-19T12:01:49.000000Z",
        "updated_at": "2025-11-19T12:32:30.000000Z",
        "is_usage_based": true,
        "subscription_id": 1652134
      }
    },
    "relationships": {
      "order": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/relationships/order",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/order"
        }
      },
      "store": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/relationships/store",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/store"
        }
      },
      "product": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/relationships/product",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/product"
        }
      },
      "variant": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/relationships/variant",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/variant"
        }
      },
      "customer": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/relationships/customer",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/customer"
        }
      },
      "order-item": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/relationships/order-item",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/order-item"
        }
      },
      "subscription-items": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/relationships/subscription-items",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/subscription-items"
        }
      },
      "subscription-invoices": {
        "links": {
          "self": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/relationships/subscription-invoices",
          "related": "https://api.lemonsqueezy.com/v1/subscriptions/1652134/subscription-invoices"
        }
      }
    }
  },
  "meta": {
    "test_mode": true,
    "event_name": "subscription_updated",
    "webhook_id": "c1bef3c1-0521-436c-bd82-2d9081f84223",
    "custom_data": {
      "tier": "monthly",
      "user_count": "6",
      "user_email": "szymon.rajca@bb8.pl",
      "organization_id": "70ccbf98-90ed-44a5-b89a-9b1133c6401d",
      "organization_name": "test_lemoniady",
      "organization_slug": "test-lemoniady"
    }
  }
}